<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <object th:include="~{fragments/common :: js}" th:remove="tag"></object>
    <object th:include="~{fragments/common :: css}" th:remove="tag"></object>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" />
    <title>APAPEDIA</title>
</head>
<body>
<div id="navbar-unauthenticated" class="mx-4">
    <nav th:replace="~{fragments/navbar_not_loggedin :: navbar}"></nav>
</div>
<div id="navbar-authenticated" class="mx-4">
    <nav th:replace="~{fragments/navbar :: navbar(2)}"></nav>
</div>

<div id="carouselExampleControls" class="carousel slide mt-5" data-bs-ride="carousel">
    <div class="carousel-inner ml-5">
        <div class="carousel-item active">
            <div class="slider_item-box">
                <div class="slider_item-container">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-6 mt-4">
                                <div class="slider_item-detail">
                                    <div>
                                        <h1>
                                            Welcome to <br />
                                            APAPEDIA
                                        </h1>
                                        <p>
                                            There are many variations of passages of Lorem
                                            Ipsum available, but the majority have suffered
                                            alteration in some form, by injected humour, or
                                            randomised words which don't look even slightly
                                            believable.
                                        </p>
                                        <div class="d-flex">
                                            <a href="" class="text-uppercase mr-3">
                                                Shop Now
                                            </a>
                                            <a href="" class="text-uppercase">
                                                Contact Us
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="slider_img-box">
                                    <div>
                                        <img src="images/shop.jpg" alt="" class="w-100 h-100" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="carousel-item">
            <div class="slider_item-box">
                <div class="slider_item-container">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-6 mt-4">
                                <div class="slider_item-detail">
                                    <div>
                                        <h1>
                                            Welcome to <br />
                                            Our Fruits Shop
                                        </h1>
                                        <p>
                                            There are many variations of passages of Lorem
                                            Ipsum available, but the majority have suffered
                                            alteration in some form, by injected humour, or
                                            randomised words which don't look even slightly
                                            believable.
                                        </p>
                                        <div class="d-flex">
                                            <a href="" class="text-uppercase">
                                                Shop Now
                                            </a>
                                            <a href="" class="text-uppercase">
                                                Contact Us
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="slider_img-box">
                                    <div>
                                        <img src="images/analysis.jpg" alt="" class="w-100 h-100" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
</div>

<div class="container mt-5 mb-5">
    <br>
    <h1 class="text-center mb-5">All Catalogues</h1>


    <div class="row pl-4 pr-4">
        <div class="col">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Orange</h5>
                    <p class="card-text">
                        There are many variations of passages of Lorem Ipsum
                        available, but the majority have suffered alteration in some
                        form, by injected humour, or randomised words which don't look
                        even slightly believable.
                    </p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Grapes</h5>
                    <p class="card-text">
                        There are many variations of passages of Lorem Ipsum
                        available, but the majority have suffered alteration in some
                        form, by injected humour, or randomised words which don't look
                        even slightly believable.
                    </p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Gauva</h5>
                    <p class="card-text">
                        There are many variations of passages of Lorem Ipsum
                        available, but the majority have suffered alteration in some
                        form, by injected humour, or randomised words which don't look
                        even slightly believable.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
<script>
    $(document).ready(function() {
        console.log('Script is running');
        var token = localStorage.getItem("token");
        console.log('User Token:', token);
        if (token == null) {
            console.log('User is not authenticated');
            $("#navbar-authenticated").hide();
        } else {
            console.log('User is authenticated');
            $("#navbar-unauthenticated").hide();
        }

        $('#logout').on('click', function() {
            console.log("this is running");
            var endpoint = "http://localhost:8083";
            localStorage.removeItem("token");
            setTimeout(function() {
                document.location.href = endpoint;
            }, 1500);
        });
     });
</script>
</script>
</html>